<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Aw CRUD</title>
        <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
    </head>
    <body>
        <div id="content">
            <div id="header" class="container">
                <h1>Aw CRUD...</h1>
                <form method="post" th:action="@{/auth/logout}" id="logout-form">
                    <button type="submit">Logout</button>
                </form>
            </div>

            <div id="user-display" th:insert="~{fragments/userDisplay :: user-display(${currentUser})}"></div>

            <div id="user-table" th:insert="~{fragments/userTable :: user-table(${userPage})}"></div>

            <form method="post" th:action="@{/crud/requestPage}" class="container">
                <label for="pageNumber">Page: <input type="number" name="pageNumber" id="pageNumber" value="1" required></label>
                <label for="pageSize">Size: <input type="number" name="pageSize" id="pageSize" value="10" required></label>
                <button type="submit">Request Page</button>
            </form>

            <form method="post" th:action="@{/crud/create}" class="container">
                <label for="username">Username: <input type="text" name="username" id="username" required></label>
                <label for="password">Password: <input type="text" name="password" id="password" required></label>
                <button type="submit">Create</button>
                <div th:switch="${param.registerUser != null ? param.registerUser[0] : ''}">
                    <div th:case="'true'" style="color: rgb(0, 157, 255);">User registration succeeded for: <span th:text="${param.registerUserUsername}"></span></div>
                    <div th:case="'false'" style="color: rgb(255, 0, 0);">User registration failed for: <span th:text="${param.registerUserUsername}"></span></div>
                </div>
            </form>

            

            <form method="post" th:action="@{/crud/create-test-users}" class="container">
                <button type="submit">DEBUG: Create Test Users</button>
            </form>
        </div>
    </body>
</html>